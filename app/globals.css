/* Fonts loaded asynchronously via link tag in layout.tsx to avoid render-blocking */
@import 'tailwindcss';

@custom-variant dark (&:is(.dark *));

@theme {
  /* Primary color */
  --color-primary: #0a714e;
  --color-primary-foreground: #ffffff;

  /* Secondary color */
  --color-secondary: #f2b705;
  --color-secondary-foreground: #0f172a;

  /* Primary light (lighter tint of primary) */
  --color-primary-light: #10bb82;
  --color-primary-light-foreground: #ffffff;

  /* Background colors */
  --color-background: #ffffff;
  --color-foreground: #0f172a;

  /* Card colors */
  --color-card: #ffffff;
  --color-card-foreground: #0f172a;

  /* Popover colors */
  --color-popover: #ffffff;
  --color-popover-foreground: #0f172a;

  /* Muted colors */
  --color-muted: #f1f5f9;
  --color-muted-foreground: #64748b;

  /* Accent colors */
  --color-accent: #f1f5f9;
  --color-accent-foreground: #0f172a;

  /* Destructive (error) color */
  --color-destructive: #ef4444;
  --color-destructive-foreground: #ffffff;

  /* Border and input colors */
  --color-border: #e2e8f0;
  --color-input: #e2e8f0;

  /* Ring (focus) color */
  --color-ring: #0a714e;

  /* Font family */
  --font-roboto: 'Roboto', sans-serif;
}

@layer base {
  body {
    font-family: 'Roboto', sans-serif;
  }

  /* Remove focus outline for mouse users, but keep it for keyboard navigation */
  button:focus:not(:focus-visible),
  [role='button']:focus:not(:focus-visible) {
    outline: none !important;
    box-shadow: none !important;
  }

  /* Ensure dropdown triggers don't show borders or rings */
  [data-radix-collection-item]:focus:not(:focus-visible),
  [data-radix-trigger]:focus:not(:focus-visible) {
    outline: none !important;
    box-shadow: none !important;
  }

  /* Remove ring styles from navigation buttons on mouse click */
  button[data-state]:focus:not(:focus-visible),
  button:has([data-state]):focus:not(:focus-visible) {
    outline: none !important;
    box-shadow: none !important;
    ring: none !important;
  }

  /* Ensure desktop navigation categories are always visible */
  @media (min-width: 1024px) {
    header > div > nav {
      display: flex !important;
      visibility: visible !important;
      opacity: 1 !important;
    }

    header > div > nav button,
    header > div > nav a {
      display: flex !important;
      visibility: visible !important;
      opacity: 1 !important;
      color: rgb(55, 65, 81) !important; /* text-gray-700 */
      transform: none !important;
      animation: none !important;
    }

    header > div > nav span {
      visibility: visible !important;
      opacity: 1 !important;
      color: inherit !important;
      transform: none !important;
    }

    header > div > nav svg {
      transform: none !important;
      transition: transform 0.2s ease, color 0.2s ease !important;
    }
  }
}

@layer utilities {
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Hero carousel pagination bullets - match old design */
  .hero-carousel .swiper-pagination {
    position: static !important;
    bottom: auto !important;
    left: auto !important;
    width: auto !important;
    margin-top: 1rem;
    margin-bottom: 0;
    display: flex;
    justify-content: center;
    gap: 0.5rem;
    transform: none !important;
  }

  .hero-carousel .swiper-pagination-bullet {
    width: 0.6rem !important;
    height: 0.6rem !important;
    background: #fff !important;
    opacity: 0.6 !important;
    border-radius: 9999px;
    transition: all 0.3s;
    margin: 0;
    cursor: pointer;
  }
  .hero-carousel .swiper-pagination-bullet:hover {
    opacity: 0.7;
  }
  .hero-carousel .swiper-pagination-bullet-active {
    width: 40px !important;
    height: 0.6rem !important;
    background: #fff !important;
    opacity: 1 !important;
    border-radius: 16px !important;
    box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -2px rgb(0 0 0 / 0.05);
  }

  /* Thin scrollbar for desktop product sliders */
  .product-slider::-webkit-scrollbar {
    height: 8px;
  }
  .product-slider::-webkit-scrollbar-track {
    background: transparent;
  }
  .product-slider::-webkit-scrollbar-thumb {
    background-color: rgba(156, 163, 175, 0.5);
    border-radius: 4px;
  }
  .product-slider::-webkit-scrollbar-thumb:hover {
    background-color: rgba(156, 163, 175, 0.7);
  }

  /* Product card animations */
  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slide-in-from-bottom-4 {
    from {
      opacity: 0;
      transform: translateY(16px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-in {
    animation: fade-in 0.5s ease-out forwards;
  }

  .fade-in {
    animation: fade-in 0.5s ease-out forwards;
  }

  .slide-in-from-bottom-4 {
    animation: slide-in-from-bottom-4 0.5s ease-out forwards;
  }

  /* Checkbox animations */
  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes zoom-in-75 {
    from {
      transform: scale(0.75);
      opacity: 0;
    }
    to {
      transform: scale(1);
      opacity: 1;
    }
  }

  .animate-in {
    animation: fade-in 0.2s ease-out forwards;
  }

  .fade-in {
    animation: fade-in 0.2s ease-out forwards;
  }

  .zoom-in-75 {
    animation: zoom-in-75 0.2s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  }
}

/* Remove all focus rings and outlines from dropdown triggers when clicked with mouse */
@layer base {
  button:focus:not(:focus-visible) {
    outline: none !important;
    box-shadow: none !important;
  }

  /* Target Radix UI dropdown trigger buttons specifically */
  button[data-radix-dropdown-menu-trigger]:focus:not(:focus-visible),
  button:has([data-state]):focus:not(:focus-visible) {
    outline: none !important;
    box-shadow: none !important;
    --tw-ring-shadow: none !important;
    --tw-ring-offset-shadow: none !important;
  }
}

/* Toast Animations */
@keyframes toast-slide-in-from-bottom {
  from {
    transform: translateY(100%) scale(0.95);
    opacity: 0;
  }
  to {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
}

@keyframes toast-slide-out-to-bottom {
  from {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
  to {
    transform: translateY(100%) scale(0.95);
    opacity: 0;
  }
}

@keyframes toast-fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes toast-fade-out {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

@keyframes toast-bounce-in {
  0% {
    transform: translateY(100%) scale(0.8);
    opacity: 0;
  }
  50% {
    transform: translateY(-5%) scale(1.02);
    opacity: 0.8;
  }
  100% {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
}

@layer utilities {
  .toast-animate-in {
    animation: toast-slide-in-from-bottom 0.4s cubic-bezier(0.16, 1, 0.3, 1),
      toast-fade-in 0.4s ease-out;
  }

  .toast-animate-out {
    animation: toast-slide-out-to-bottom 0.3s cubic-bezier(0.4, 0, 1, 1),
      toast-fade-out 0.3s ease-in;
  }

  .toast-bounce-in {
    animation: toast-bounce-in 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  }
}

/* Toast Animation Styles - Applied to Radix Toast Root */
[data-radix-toast-root][data-state='open'] {
  animation: toast-slide-in-from-bottom 0.4s cubic-bezier(0.16, 1, 0.3, 1),
    toast-fade-in 0.4s ease-out forwards !important;
  transform-origin: bottom right;
}

[data-radix-toast-root][data-state='closed'] {
  animation: toast-slide-out-to-bottom 0.3s cubic-bezier(0.4, 0, 1, 1),
    toast-fade-out 0.3s ease-in forwards !important;
  transform-origin: bottom right;
}

/* Fallback for any toast element with data-state */
.group[data-state='open'] {
  animation: toast-slide-in-from-bottom 0.4s cubic-bezier(0.16, 1, 0.3, 1),
    toast-fade-in 0.4s ease-out forwards;
  transform-origin: bottom right;
}

.group[data-state='closed'] {
  animation: toast-slide-out-to-bottom 0.3s cubic-bezier(0.4, 0, 1, 1),
    toast-fade-out 0.3s ease-in forwards;
  transform-origin: bottom right;
}
